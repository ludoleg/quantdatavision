{% extends "base.html" %}
{% block content %}
<div class="page-header">
  <h1>Calibration Parameters</h1>
</div>
<form action="/saveCal"
      method="POST"
      enctype="multipart/form-data"
      >
  <div class="container">
    <div class="row">
    <div class="form-group col-xs-3">
      <label for="lambda">Lambda (Ã…): </label>
      <input type="text" class="form-control" name="lambda" value="{{ lambda }}">
    </div>
    </div>
    <div class="row">
    <div class="form-group col-xs-3">
      <label for="target">Select Target:</label>
      <select class="form-control" name="target">
	{% if target == "Cu" %}
	<option selected>Cu</option>
	<option>Co</option>
	{% else %}
	<option>Cu</option>
	<option selected>Co</option>
	{% endif %}
      </select>
    </div>
    </div>
    <hr>
    <div class="row">
      <div class="col-xs-3">
	<button type="submit" class="btn btn-primary">Save Parameters</button>
      </div>
    </div>
  </div>
</form>
<script>
var $select = $("#rightValues");

if($select == null)
{
$.getJSON("/phaselist.json", function(data){
	$select.html('');
	var listitems;
	$.each(data, function(key, value){
		listitems += '<option value=' + key + '>' + key + '</option>';
	});
	$select.append(listitems);
});
}

$("#btnLeft").click(function () {
    var selectedItem = $("#rightValues option:selected");
    $("#leftValues").append(selectedItem);
});

$("#btnRight").click(function () {
    var selectedItem = $("#leftValues option:selected");
    $("#rightValues").append(selectedItem);
});

$("#rightValues").change(function () {
    var selectedItem = $("#rightValues option:selected");
    $("#txtRight").val(selectedItem.text());
});

function selectAllOptions()
{
  var selObj = document.getElementById('rightValues');
  for (var i=0; i<selObj.options.length; i++) {
    selObj.options[i].selected = true;
  }
  var selObj = document.getElementById('leftValues');
  for (var i=0; i<selObj.options.length; i++) {
    selObj.options[i].selected = true;
  }
}

</script>
{% endblock %}

