{% extends "base.html" %}
{% block content %}
<div class="page-header">
  <h1>{{ samplename }}</h1>
</div>
<p>
  <div><img src="/img?img_id={{ key }}" class="img-responsive"></img></div>
</p>
<h1>Phases</h1>
<table class="table">
  <tr>
    <th>Mineral</th>
    <th>Mass %</th> 
  </tr>
  {%- for row in phaselist %}
  <tr>
  {%- for column in row %}
    <td>{{ column }}</td>
  {%- endfor %}
  </tr>
{%- endfor %}
</table>
<div><a href="/csv?key={{ url_text }}" type="button" class="btn btn-lg btn-success">Download CSV File</button></a></div>
<div id="tester" style="width:600px;height:250px;"></div>
<script>
    var data = [{
      y: [22.3, 23, 23.3, ..., 22.2],
      x: ["2001-06-11 11:00","2001-06-11 11:10","2001-06-11 11:20","2001-06-12 23:40"],
      line: { width: 1 },
      error_y: {
        width: 0,
        array: [2.73, 1.98, 1.87, ..., 2.19],
        thickness:0.5
      },
      uid: "40abaa"
    }];
    var layout = {
      yaxis: { title: "Wind Speed"},      // set the y axis title
      xaxis: {
        showgrid: false,                  // remove the x-axis grid lines
        tickformat: "%B, %Y"              // customize the date format to "month, day"
      },
      margin: {                           // update the left, bottom, right, top margin
        l: 40, b: 10, r: 10, t: 20
      }
    };

    Plotly.plot(document.getElementById('tester'), data, layout);
</script>
{% endblock %}

